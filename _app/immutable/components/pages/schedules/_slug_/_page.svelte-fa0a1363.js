import{S as ht,i as pt,s as vt,w as Ie,a as E,k as r,q as N,x as Ne,c as y,l as i,m as v,r as U,h as c,n as l,p as S,y as Ue,b as Le,D as t,T as z,M as F,N as De,f as Se,d as _t,t as Te,z as Ae,O as mt,P as at,o as gt,aa as Xe,ab as Ke,u as bt,ac as Qe,g as Et}from"../../../../chunks/index-e5e2f259.js";import{S as We}from"../../../../chunks/Switch-07dde54d.js";import{S as yt}from"../../../../chunks/SvelteToast-01f75cf5.js";import{t as St}from"../../../../chunks/SvelteToast.svelte_svelte_type_style_lang-d3fc9e29.js";/* empty css                                                                 */function Ze(e,a,o){const h=e.slice();return h[31]=a[o],h[32]=a,h[33]=o,h}function $e(e){let a,o,h,g;return{c(){a=r("button"),o=N("-"),this.h()},l(m){a=i(m,"BUTTON",{type:!0,class:!0});var T=v(a);o=U(T,"-"),T.forEach(c),this.h()},h(){l(a,"type","button"),l(a,"class","btn btn-danger")},m(m,T){Le(m,a,T),t(a,o),h||(g=F(a,"click",e[10](e[33])),h=!0)},p(m,T){e=m},d(m){m&&c(a),h=!1,g()}}}function xe(e){let a,o,h,g=lt(e[2][e[33]].dateStart)+"",m,T,A,V,D,n,j,se,q,K,ne,G,R,oe,w,C,B,le,k,Q,re,H,M,ie,s,b,x,pe,O,W,Y,Z,_e,te,u,ue,d,_,f,de,ae,ce,me,J,ge,X,be,Ee,L,ye,$,fe,Be,Ve;function st(){e[13].call(j,e[33])}function nt(){e[14].call(R,e[33])}function ot(I){e[15](I,e[33])}let Oe={checked:e[2][e[33]].highlight,label:"Highlight entry",design:"slider",options:["Yes","No"],fontSize:"1rem"};e[2][e[33]].highlight!==void 0&&(Oe.value=e[2][e[33]].highlight),C=new We({props:Oe}),Xe.push(()=>Ke(C,"value",ot));function rt(){e[16].call(M,e[33])}function it(){e[17].call(O,e[33])}function ut(I){e[18](I,e[33])}let Pe={checked:e[2][e[33]].liveEvent,label:"Live/Link",design:"slider",options:["Yes","No"],fontSize:"1rem"};e[2][e[33]].liveEvent!==void 0&&(Pe.value=e[2][e[33]].liveEvent),Z=new We({props:Pe}),Xe.push(()=>Ke(Z,"value",ut));function dt(){e[19].call(f,e[33])}function ft(){e[20].call(J,e[33])}function ct(){e[21].call(L,e[33])}let P=e[2].length>0&&$e(e);return{c(){a=r("div"),o=r("h2"),h=N("Day "),m=N(g),T=E(),A=r("div"),V=r("label"),D=N("Date start"),n=E(),j=r("input"),se=E(),q=r("div"),K=r("label"),ne=N("Date end"),G=E(),R=r("input"),oe=E(),w=r("div"),Ie(C.$$.fragment),le=E(),k=r("div"),Q=r("label"),re=N("Url / Feed"),H=E(),M=r("input"),ie=E(),s=r("div"),b=r("label"),x=N("Button label"),pe=E(),O=r("input"),W=E(),Y=r("div"),Ie(Z.$$.fragment),te=E(),u=r("div"),ue=r("label"),d=N("Title"),_=E(),f=r("input"),de=E(),ae=r("label"),ce=N("Subtitle"),me=E(),J=r("input"),ge=E(),X=r("label"),be=N("Text"),Ee=E(),L=r("textarea"),ye=E(),$=r("div"),P&&P.c(),this.h()},l(I){a=i(I,"DIV",{class:!0});var p=v(a);o=i(p,"H2",{});var ve=v(o);h=U(ve,"Day "),m=U(ve,g),ve.forEach(c),T=y(p),A=i(p,"DIV",{class:!0,style:!0});var he=v(A);V=i(he,"LABEL",{for:!0,class:!0});var ze=v(V);D=U(ze,"Date start"),ze.forEach(c),n=y(he),j=i(he,"INPUT",{type:!0}),he.forEach(c),se=y(p),q=i(p,"DIV",{class:!0,style:!0});var we=v(q);K=i(we,"LABEL",{for:!0,class:!0});var je=v(K);ne=U(je,"Date end"),je.forEach(c),G=y(we),R=i(we,"INPUT",{type:!0}),we.forEach(c),oe=y(p),w=i(p,"DIV",{class:!0,style:!0});var Ce=v(w);Ne(C.$$.fragment,Ce),Ce.forEach(c),le=y(p),k=i(p,"DIV",{class:!0,style:!0});var qe=v(k);Q=i(qe,"LABEL",{for:!0,class:!0});var He=v(Q);re=U(He,"Url / Feed"),He.forEach(c),H=y(qe),M=i(qe,"INPUT",{type:!0}),qe.forEach(c),ie=y(p),s=i(p,"DIV",{class:!0,style:!0});var ke=v(s);b=i(ke,"LABEL",{for:!0,class:!0});var Me=v(b);x=U(Me,"Button label"),Me.forEach(c),pe=y(ke),O=i(ke,"INPUT",{type:!0}),ke.forEach(c),W=y(p),Y=i(p,"DIV",{class:!0,style:!0});var Je=v(Y);Ne(Z.$$.fragment,Je),Je.forEach(c),te=y(p),u=i(p,"DIV",{class:!0});var ee=v(u);ue=i(ee,"LABEL",{for:!0,class:!0});var Fe=v(ue);d=U(Fe,"Title"),Fe.forEach(c),_=y(ee),f=i(ee,"INPUT",{type:!0,id:!0,placeholder:!0,class:!0}),de=y(ee),ae=i(ee,"LABEL",{for:!0,class:!0});var Ge=v(ae);ce=U(Ge,"Subtitle"),Ge.forEach(c),me=y(ee),J=i(ee,"INPUT",{type:!0,id:!0,placeholder:!0,class:!0}),ge=y(ee),X=i(ee,"LABEL",{for:!0,class:!0});var Re=v(X);be=U(Re,"Text"),Re.forEach(c),Ee=y(ee),L=i(ee,"TEXTAREA",{rows:!0,type:!0,id:!0,placeholder:!0,class:!0}),v(L).forEach(c),ee.forEach(c),ye=y(p),$=i(p,"DIV",{class:!0,style:!0});var Ye=v($);P&&P.l(Ye),Ye.forEach(c),p.forEach(c),this.h()},h(){l(V,"for","name"),l(V,"class","svelte-18xqq13"),l(j,"type","datetime-local"),l(A,"class","col-sm-4 mb-p-right-0"),S(A,"padding-right","0"),l(K,"for","name"),l(K,"class","svelte-18xqq13"),l(R,"type","datetime-local"),l(q,"class","col-sm-4 mb-p-right-0"),S(q,"padding-right","0"),l(w,"class","col-sm-2 mb-p-right-0"),S(w,"padding-right","0"),S(w,"display","flex"),l(Q,"for","name"),l(Q,"class","svelte-18xqq13"),l(M,"type","text"),l(k,"class","col-sm-5 mb-p-right-0"),S(k,"padding-right","0"),l(b,"for","name"),l(b,"class","svelte-18xqq13"),l(O,"type","text"),l(s,"class","col-sm-3 mb-p-right-0"),S(s,"padding-right","0"),l(Y,"class","col-sm-2 mb-p-right-0"),S(Y,"padding-right","0"),S(Y,"display","flex"),l(ue,"for","Block"),l(ue,"class","svelte-18xqq13"),l(f,"type","text"),l(f,"id",e[33]),l(f,"placeholder","Title"),l(f,"class","svelte-18xqq13"),l(ae,"for","Block"),l(ae,"class","svelte-18xqq13"),l(J,"type","text"),l(J,"id",e[33]),l(J,"placeholder","Title"),l(J,"class","svelte-18xqq13"),l(X,"for","Block"),l(X,"class","svelte-18xqq13"),l(L,"rows","8"),l(L,"type","text"),l(L,"id",e[33]),l(L,"placeholder","Text"),l(L,"class","svelte-18xqq13"),l(u,"class","col-10"),l($,"class","col-2"),S($,"align-items","center"),S($,"display","flex"),S($,"justify-content","center"),l(a,"class","row zebra")},m(I,p){Le(I,a,p),t(a,o),t(o,h),t(o,m),t(a,T),t(a,A),t(A,V),t(V,D),t(A,n),t(A,j),z(j,e[2][e[33]].dateStart),t(a,se),t(a,q),t(q,K),t(K,ne),t(q,G),t(q,R),z(R,e[2][e[33]].dateEnd),t(a,oe),t(a,w),Ue(C,w,null),t(a,le),t(a,k),t(k,Q),t(Q,re),t(k,H),t(k,M),z(M,e[2][e[33]].feedUrl),t(a,ie),t(a,s),t(s,b),t(b,x),t(s,pe),t(s,O),z(O,e[2][e[33]].ctaLabel),t(a,W),t(a,Y),Ue(Z,Y,null),t(a,te),t(a,u),t(u,ue),t(ue,d),t(u,_),t(u,f),z(f,e[2][e[33]].title),t(u,de),t(u,ae),t(ae,ce),t(u,me),t(u,J),z(J,e[2][e[33]].subTitle),t(u,ge),t(u,X),t(X,be),t(u,Ee),t(u,L),z(L,e[2][e[33]].text),t(a,ye),t(a,$),P&&P.m($,null),fe=!0,Be||(Ve=[F(j,"input",st),F(j,"datepicked",e[9]),F(R,"input",nt),F(M,"input",rt),F(O,"input",it),F(f,"input",dt),F(J,"input",ft),F(L,"input",ct)],Be=!0)},p(I,p){e=I,(!fe||p[0]&4)&&g!==(g=lt(e[2][e[33]].dateStart)+"")&&bt(m,g),p[0]&4&&z(j,e[2][e[33]].dateStart),p[0]&4&&z(R,e[2][e[33]].dateEnd);const ve={};p[0]&4&&(ve.checked=e[2][e[33]].highlight),!B&&p[0]&4&&(B=!0,ve.value=e[2][e[33]].highlight,Qe(()=>B=!1)),C.$set(ve),p[0]&4&&M.value!==e[2][e[33]].feedUrl&&z(M,e[2][e[33]].feedUrl),p[0]&4&&O.value!==e[2][e[33]].ctaLabel&&z(O,e[2][e[33]].ctaLabel);const he={};p[0]&4&&(he.checked=e[2][e[33]].liveEvent),!_e&&p[0]&4&&(_e=!0,he.value=e[2][e[33]].liveEvent,Qe(()=>_e=!1)),Z.$set(he),p[0]&4&&f.value!==e[2][e[33]].title&&z(f,e[2][e[33]].title),p[0]&4&&J.value!==e[2][e[33]].subTitle&&z(J,e[2][e[33]].subTitle),p[0]&4&&z(L,e[2][e[33]].text),e[2].length>0?P?P.p(e,p):(P=$e(e),P.c(),P.m($,null)):P&&(P.d(1),P=null)},i(I){fe||(Se(C.$$.fragment,I),Se(Z.$$.fragment,I),fe=!0)},o(I){Te(C.$$.fragment,I),Te(Z.$$.fragment,I),fe=!1},d(I){I&&c(a),Ae(C),Ae(Z),P&&P.d(),Be=!1,at(Ve)}}}function Tt(e){let a,o,h,g,m,T,A,V,D,n,j,se,q,K,ne,G,R,oe,w,C,B,le,k,Q,re,H,M,ie,s,b,x,pe,O,W,Y,Z,_e;a=new yt({props:{options:e[3]}});let te=e[2],u=[];for(let d=0;d<te.length;d+=1)u[d]=xe(Ze(e,te,d));const ue=d=>Te(u[d],1,1,()=>{u[d]=null});return{c(){Ie(a.$$.fragment),o=E(),h=r("section"),g=r("div"),m=r("div"),T=r("h1"),A=N("Schedule"),V=E(),D=r("div"),n=r("button"),j=N("Save"),se=E(),q=r("button"),K=N("Go back"),ne=E(),G=r("label"),R=N("Schedule name"),oe=E(),w=r("input"),C=E(),B=r("div");for(let d=0;d<u.length;d+=1)u[d].c();le=E(),k=r("button"),Q=N("Add new entry"),re=E(),H=r("button"),M=N("Order entrys"),ie=E(),s=r("div"),b=r("label"),x=N("Slug"),pe=E(),O=r("div"),W=r("input"),this.h()},l(d){Ne(a.$$.fragment,d),o=y(d),h=i(d,"SECTION",{class:!0});var _=v(h);g=i(_,"DIV",{style:!0});var f=v(g);m=i(f,"DIV",{class:!0});var de=v(m);T=i(de,"H1",{class:!0});var ae=v(T);A=U(ae,"Schedule"),ae.forEach(c),de.forEach(c),V=y(f),D=i(f,"DIV",{class:!0,style:!0});var ce=v(D);n=i(ce,"BUTTON",{class:!0});var me=v(n);j=U(me,"Save"),me.forEach(c),se=y(ce),q=i(ce,"BUTTON",{class:!0,style:!0});var J=v(q);K=U(J,"Go back"),J.forEach(c),ce.forEach(c),f.forEach(c),ne=y(_),G=i(_,"LABEL",{for:!0,class:!0});var ge=v(G);R=U(ge,"Schedule name"),ge.forEach(c),oe=y(_),w=i(_,"INPUT",{type:!0,id:!0,placeholder:!0}),C=y(_),B=i(_,"DIV",{class:!0});var X=v(B);for(let fe=0;fe<u.length;fe+=1)u[fe].l(X);le=y(X),k=i(X,"BUTTON",{class:!0,style:!0});var be=v(k);Q=U(be,"Add new entry"),be.forEach(c),re=y(X),H=i(X,"BUTTON",{class:!0,style:!0});var Ee=v(H);M=U(Ee,"Order entrys"),Ee.forEach(c),X.forEach(c),ie=y(_),s=i(_,"DIV",{});var L=v(s);b=i(L,"LABEL",{for:!0,class:!0});var ye=v(b);x=U(ye,"Slug"),ye.forEach(c),pe=y(L),O=i(L,"DIV",{class:!0});var $=v(O);W=i($,"INPUT",{type:!0,id:!0,placeholder:!0}),$.forEach(c),L.forEach(c),_.forEach(c),this.h()},h(){l(T,"class","rank-title  svelte-18xqq13"),l(m,"class","col-6"),l(n,"class","btn btn-info"),l(q,"class","btn btn-danger"),S(q,"margin-left","15px"),l(D,"class","col-5"),S(D,"align-items","center"),S(D,"display","flex"),S(D,"justify-content","end"),S(g,"display","flex"),S(g,"align-items","center"),S(g,"background-color","var(--color-bg-1)"),S(g,"position","sticky"),S(g,"top","80px"),S(g,"z-index","1"),l(G,"for","Block"),l(G,"class","svelte-18xqq13"),l(w,"type","text"),l(w,"id","nameSch"),l(w,"placeholder","Name"),l(k,"class","btn btn-info"),S(k,"height","40px"),l(H,"class","btn btn-info"),S(H,"height","40px"),S(H,"margin-left","15px"),l(B,"class","section-inner svelte-18xqq13"),l(b,"for","name"),l(b,"class","svelte-18xqq13"),l(W,"type","text"),l(W,"id","slug"),W.value=e[1],l(W,"placeholder","Slug"),l(O,"class","col-12 "),l(h,"class","app_form svelte-18xqq13")},m(d,_){Ue(a,d,_),Le(d,o,_),Le(d,h,_),t(h,g),t(g,m),t(m,T),t(T,A),t(g,V),t(g,D),t(D,n),t(n,j),t(D,se),t(D,q),t(q,K),t(h,ne),t(h,G),t(G,R),t(h,oe),t(h,w),z(w,e[0]),t(h,C),t(h,B);for(let f=0;f<u.length;f+=1)u[f].m(B,null);t(B,le),t(B,k),t(k,Q),t(B,re),t(B,H),t(H,M),t(h,ie),t(h,s),t(s,b),t(b,x),t(s,pe),t(s,O),t(O,W),Y=!0,Z||(_e=[F(n,"click",De(e[4])),F(q,"click",De(e[5])),F(w,"input",e[12]),F(w,"change",e[6]),F(k,"click",De(e[7])),F(H,"click",De(e[8]))],Z=!0)},p(d,_){if(_[0]&1&&w.value!==d[0]&&z(w,d[0]),_[0]&1540){te=d[2];let f;for(f=0;f<te.length;f+=1){const de=Ze(d,te,f);u[f]?(u[f].p(de,_),Se(u[f],1)):(u[f]=xe(de),u[f].c(),Se(u[f],1),u[f].m(B,le))}for(Et(),f=te.length;f<u.length;f+=1)ue(f);_t()}(!Y||_[0]&2&&W.value!==d[1])&&(W.value=d[1])},i(d){if(!Y){Se(a.$$.fragment,d);for(let _=0;_<te.length;_+=1)Se(u[_]);Y=!0}},o(d){Te(a.$$.fragment,d),u=u.filter(Boolean);for(let _=0;_<u.length;_+=1)Te(u[_]);Y=!1},d(d){Ae(a,d),d&&c(o),d&&c(h),mt(u,d),Z=!1,at(_e)}}}let et="https://api.appworldtour.com/v1/schedule/";function tt(e){return e.sort((a,o)=>new Date(a.dateStart)-new Date(o.dateStart))}function lt(e){const a=new Date(e),o=a.getDate(),h=a.toLocaleString("default",{month:"short"}),g=a.getHours()%12||12,m=a.getMinutes().toString().padStart(2,"0"),T=a.getHours()<12?"AM":"PM";return`${o} ${h} ${g}:${m} ${T}`}function wt(e,a,o){let{data:h}=a,g,m="",T="",A=[],V=[],D=[],n=[];const j={theme:{"--toastColor":"white","--toastBarBackground":"red"}};gt(async()=>{if(h.slug=="newschedule")g="create",o(2,n=[...n,{dateStart:new Date,dateEnd:new Date,highlight:!1,title:"",subTitle:"",text:"",liveEvent:!1,feedUrl:"",ctaLabel:""}]);else{g="update";const s=[{openid:h.slug}];V=await(await fetch(et,{method:"POST",body:JSON.stringify({mission:s})})).json(),D=JSON.parse(V[0].content),o(0,m=V[0].name),o(1,T=V[0].slug),o(2,n=D)}});const se=()=>{if(m==""){document.getElementById("nameSch").focus();return}tt(n),o(2,n),A={name:m,data:n,slug:T};const s=[{id:h.slug,type:g}];fetch(et,{method:"POST",body:JSON.stringify({list:A,mission:s})}).then(b=>b.text()).then(b=>{St.push("Schedule update",{duration:2e3})})},q=()=>{history.back()};function K(){let s=m.toString().toLowerCase().trim();[{to:"a",from:"[ÀÁÂÃÄÅÆĀĂĄẠẢẤẦẨẪẬẮẰẲẴẶἀ]"},{to:"c",from:"[ÇĆĈČ]"},{to:"d",from:"[ÐĎĐÞ]"},{to:"e",from:"[ÈÉÊËĒĔĖĘĚẸẺẼẾỀỂỄỆ]"},{to:"g",from:"[ĜĞĢǴ]"},{to:"h",from:"[ĤḦ]"},{to:"i",from:"[ÌÍÎÏĨĪĮİỈỊ]"},{to:"j",from:"[Ĵ]"},{to:"ij",from:"[Ĳ]"},{to:"k",from:"[Ķ]"},{to:"l",from:"[ĹĻĽŁ]"},{to:"m",from:"[Ḿ]"},{to:"n",from:"[ÑŃŅŇ]"},{to:"o",from:"[ÒÓÔÕÖØŌŎŐỌỎỐỒỔỖỘỚỜỞỠỢǪǬƠ]"},{to:"oe",from:"[Œ]"},{to:"p",from:"[ṕ]"},{to:"r",from:"[ŔŖŘ]"},{to:"s",from:"[ßŚŜŞŠȘ]"},{to:"t",from:"[ŢŤ]"},{to:"u",from:"[ÙÚÛÜŨŪŬŮŰŲỤỦỨỪỬỮỰƯ]"},{to:"w",from:"[ẂŴẀẄ]"},{to:"x",from:"[ẍ]"},{to:"y",from:"[ÝŶŸỲỴỶỸ]"},{to:"z",from:"[ŹŻŽ]"},{to:"-",from:"[·/_,:;']"}].forEach(x=>{s=s.replace(new RegExp(x.from,"gi"),x.to)}),o(1,T=s.replace(/\s+/g,"-").replace(/[^-a-z0-9а-я\u0370-\u03ff\u1f00-\u1fff]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""))}function ne(){o(2,n=[...n,{dateStart:new Date,dateEnd:new Date,highlight:!1,title:"",subTitle:"",text:"",ctaLabel:""}])}function G(){tt(n),o(2,n)}function R(s){G()}const oe=s=>()=>{o(2,n=n.filter((b,x)=>x!==s))};function w(){m=this.value,o(0,m)}function C(s){n[s].dateStart=this.value,o(2,n)}function B(s){n[s].dateEnd=this.value,o(2,n)}function le(s,b){e.$$.not_equal(n[b].highlight,s)&&(n[b].highlight=s,o(2,n))}function k(s){n[s].feedUrl=this.value,o(2,n)}function Q(s){n[s].ctaLabel=this.value,o(2,n)}function re(s,b){e.$$.not_equal(n[b].liveEvent,s)&&(n[b].liveEvent=s,o(2,n))}function H(s){n[s].title=this.value,o(2,n)}function M(s){n[s].subTitle=this.value,o(2,n)}function ie(s){n[s].text=this.value,o(2,n)}return e.$$set=s=>{"data"in s&&o(11,h=s.data)},[m,T,n,j,se,q,K,ne,G,R,oe,h,w,C,B,le,k,Q,re,H,M,ie]}class It extends ht{constructor(a){super(),pt(this,a,wt,Tt,vt,{data:11},null,[-1,-1])}}export{It as default};
