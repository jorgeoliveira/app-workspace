import{S as ct,i as ht,s as pt,w as Ie,a as g,k as o,q as N,x as Ne,c as b,l as i,m as v,r as U,h as c,n as l,p as y,y as Ue,b as Le,D as t,T as z,M as G,N as De,f as Se,d as vt,t as Te,z as Ve,O as _t,P as lt,o as mt,aa as Xe,ab as Ke,ac as Qe,g as gt}from"../../../../chunks/index-e5e2f259.js";import{S as We}from"../../../../chunks/Switch-07dde54d.js";import{S as bt}from"../../../../chunks/SvelteToast-01f75cf5.js";import{t as Et}from"../../../../chunks/SvelteToast.svelte_svelte_type_style_lang-d3fc9e29.js";/* empty css                                                                 */function Ze(e,s,r){const h=e.slice();return h[31]=s[r],h[32]=s,h[33]=r,h}function $e(e){let s,r,h,S;return{c(){s=o("button"),r=N("-"),this.h()},l(E){s=i(E,"BUTTON",{type:!0,class:!0});var w=v(s);r=U(w,"-"),w.forEach(c),this.h()},h(){l(s,"type","button"),l(s,"class","btn btn-danger")},m(E,w){Le(E,s,w),t(s,r),h||(S=G(s,"click",e[10](e[33])),h=!0)},p(E,w){e=E},d(E){E&&c(s),h=!1,S()}}}function xe(e){let s,r,h,S=e[33]+1+"",E,w,V,A,D,n,j,se,q,K,ne,M,R,re,T,C,B,le,k,Q,oe,H,J,ie,a,m,x,pe,O,W,Y,Z,_e,te,u,ue,d,_,f,de,ae,fe,me,F,ge,X,be,Ee,L,ye,$,ce,Be,Ae;function at(){e[13].call(j,e[33])}function st(){e[14].call(R,e[33])}function nt(I){e[15](I,e[33])}let Oe={checked:e[2][e[33]].highlight,label:"Highlight entry",design:"slider",options:["Yes","No"],fontSize:"1rem"};e[2][e[33]].highlight!==void 0&&(Oe.value=e[2][e[33]].highlight),C=new We({props:Oe}),Xe.push(()=>Ke(C,"value",nt));function rt(){e[16].call(J,e[33])}function ot(){e[17].call(O,e[33])}function it(I){e[18](I,e[33])}let Pe={checked:e[2][e[33]].liveEvent,label:"Live/Link",design:"slider",options:["Yes","No"],fontSize:"1rem"};e[2][e[33]].liveEvent!==void 0&&(Pe.value=e[2][e[33]].liveEvent),Z=new We({props:Pe}),Xe.push(()=>Ke(Z,"value",it));function ut(){e[19].call(f,e[33])}function dt(){e[20].call(F,e[33])}function ft(){e[21].call(L,e[33])}let P=e[2].length>0&&$e(e);return{c(){s=o("div"),r=o("h2"),h=N("Schedule #"),E=N(S),w=g(),V=o("div"),A=o("label"),D=N("Date start"),n=g(),j=o("input"),se=g(),q=o("div"),K=o("label"),ne=N("Date end"),M=g(),R=o("input"),re=g(),T=o("div"),Ie(C.$$.fragment),le=g(),k=o("div"),Q=o("label"),oe=N("Url / Feed"),H=g(),J=o("input"),ie=g(),a=o("div"),m=o("label"),x=N("Button label"),pe=g(),O=o("input"),W=g(),Y=o("div"),Ie(Z.$$.fragment),te=g(),u=o("div"),ue=o("label"),d=N("Title"),_=g(),f=o("input"),de=g(),ae=o("label"),fe=N("Subtitle"),me=g(),F=o("input"),ge=g(),X=o("label"),be=N("Text"),Ee=g(),L=o("textarea"),ye=g(),$=o("div"),P&&P.c(),this.h()},l(I){s=i(I,"DIV",{class:!0});var p=v(s);r=i(p,"H2",{});var ve=v(r);h=U(ve,"Schedule #"),E=U(ve,S),ve.forEach(c),w=b(p),V=i(p,"DIV",{class:!0,style:!0});var he=v(V);A=i(he,"LABEL",{for:!0,class:!0});var ze=v(A);D=U(ze,"Date start"),ze.forEach(c),n=b(he),j=i(he,"INPUT",{type:!0}),he.forEach(c),se=b(p),q=i(p,"DIV",{class:!0,style:!0});var we=v(q);K=i(we,"LABEL",{for:!0,class:!0});var je=v(K);ne=U(je,"Date end"),je.forEach(c),M=b(we),R=i(we,"INPUT",{type:!0}),we.forEach(c),re=b(p),T=i(p,"DIV",{class:!0,style:!0});var Ce=v(T);Ne(C.$$.fragment,Ce),Ce.forEach(c),le=b(p),k=i(p,"DIV",{class:!0,style:!0});var qe=v(k);Q=i(qe,"LABEL",{for:!0,class:!0});var He=v(Q);oe=U(He,"Url / Feed"),He.forEach(c),H=b(qe),J=i(qe,"INPUT",{type:!0}),qe.forEach(c),ie=b(p),a=i(p,"DIV",{class:!0,style:!0});var ke=v(a);m=i(ke,"LABEL",{for:!0,class:!0});var Je=v(m);x=U(Je,"Button label"),Je.forEach(c),pe=b(ke),O=i(ke,"INPUT",{type:!0}),ke.forEach(c),W=b(p),Y=i(p,"DIV",{class:!0,style:!0});var Fe=v(Y);Ne(Z.$$.fragment,Fe),Fe.forEach(c),te=b(p),u=i(p,"DIV",{class:!0});var ee=v(u);ue=i(ee,"LABEL",{for:!0,class:!0});var Ge=v(ue);d=U(Ge,"Title"),Ge.forEach(c),_=b(ee),f=i(ee,"INPUT",{type:!0,id:!0,placeholder:!0,class:!0}),de=b(ee),ae=i(ee,"LABEL",{for:!0,class:!0});var Me=v(ae);fe=U(Me,"Subtitle"),Me.forEach(c),me=b(ee),F=i(ee,"INPUT",{type:!0,id:!0,placeholder:!0,class:!0}),ge=b(ee),X=i(ee,"LABEL",{for:!0,class:!0});var Re=v(X);be=U(Re,"Text"),Re.forEach(c),Ee=b(ee),L=i(ee,"TEXTAREA",{rows:!0,type:!0,id:!0,placeholder:!0,class:!0}),v(L).forEach(c),ee.forEach(c),ye=b(p),$=i(p,"DIV",{class:!0,style:!0});var Ye=v($);P&&P.l(Ye),Ye.forEach(c),p.forEach(c),this.h()},h(){l(A,"for","name"),l(A,"class","svelte-18xqq13"),l(j,"type","datetime-local"),l(V,"class","col-sm-4 mb-p-right-0"),y(V,"padding-right","0"),l(K,"for","name"),l(K,"class","svelte-18xqq13"),l(R,"type","datetime-local"),l(q,"class","col-sm-4 mb-p-right-0"),y(q,"padding-right","0"),l(T,"class","col-sm-2 mb-p-right-0"),y(T,"padding-right","0"),y(T,"display","flex"),l(Q,"for","name"),l(Q,"class","svelte-18xqq13"),l(J,"type","text"),l(k,"class","col-sm-5 mb-p-right-0"),y(k,"padding-right","0"),l(m,"for","name"),l(m,"class","svelte-18xqq13"),l(O,"type","text"),l(a,"class","col-sm-3 mb-p-right-0"),y(a,"padding-right","0"),l(Y,"class","col-sm-2 mb-p-right-0"),y(Y,"padding-right","0"),y(Y,"display","flex"),l(ue,"for","Block"),l(ue,"class","svelte-18xqq13"),l(f,"type","text"),l(f,"id",e[33]),l(f,"placeholder","Title"),l(f,"class","svelte-18xqq13"),l(ae,"for","Block"),l(ae,"class","svelte-18xqq13"),l(F,"type","text"),l(F,"id",e[33]),l(F,"placeholder","Title"),l(F,"class","svelte-18xqq13"),l(X,"for","Block"),l(X,"class","svelte-18xqq13"),l(L,"rows","8"),l(L,"type","text"),l(L,"id",e[33]),l(L,"placeholder","Text"),l(L,"class","svelte-18xqq13"),l(u,"class","col-10"),l($,"class","col-2"),y($,"align-items","center"),y($,"display","flex"),y($,"justify-content","center"),l(s,"class","row zebra")},m(I,p){Le(I,s,p),t(s,r),t(r,h),t(r,E),t(s,w),t(s,V),t(V,A),t(A,D),t(V,n),t(V,j),z(j,e[2][e[33]].dateStart),t(s,se),t(s,q),t(q,K),t(K,ne),t(q,M),t(q,R),z(R,e[2][e[33]].dateEnd),t(s,re),t(s,T),Ue(C,T,null),t(s,le),t(s,k),t(k,Q),t(Q,oe),t(k,H),t(k,J),z(J,e[2][e[33]].feedUrl),t(s,ie),t(s,a),t(a,m),t(m,x),t(a,pe),t(a,O),z(O,e[2][e[33]].ctaLabel),t(s,W),t(s,Y),Ue(Z,Y,null),t(s,te),t(s,u),t(u,ue),t(ue,d),t(u,_),t(u,f),z(f,e[2][e[33]].title),t(u,de),t(u,ae),t(ae,fe),t(u,me),t(u,F),z(F,e[2][e[33]].subTitle),t(u,ge),t(u,X),t(X,be),t(u,Ee),t(u,L),z(L,e[2][e[33]].text),t(s,ye),t(s,$),P&&P.m($,null),ce=!0,Be||(Ae=[G(j,"input",at),G(j,"datepicked",e[9]),G(R,"input",st),G(J,"input",rt),G(O,"input",ot),G(f,"input",ut),G(F,"input",dt),G(L,"input",ft)],Be=!0)},p(I,p){e=I,p[0]&4&&z(j,e[2][e[33]].dateStart),p[0]&4&&z(R,e[2][e[33]].dateEnd);const ve={};p[0]&4&&(ve.checked=e[2][e[33]].highlight),!B&&p[0]&4&&(B=!0,ve.value=e[2][e[33]].highlight,Qe(()=>B=!1)),C.$set(ve),p[0]&4&&J.value!==e[2][e[33]].feedUrl&&z(J,e[2][e[33]].feedUrl),p[0]&4&&O.value!==e[2][e[33]].ctaLabel&&z(O,e[2][e[33]].ctaLabel);const he={};p[0]&4&&(he.checked=e[2][e[33]].liveEvent),!_e&&p[0]&4&&(_e=!0,he.value=e[2][e[33]].liveEvent,Qe(()=>_e=!1)),Z.$set(he),p[0]&4&&f.value!==e[2][e[33]].title&&z(f,e[2][e[33]].title),p[0]&4&&F.value!==e[2][e[33]].subTitle&&z(F,e[2][e[33]].subTitle),p[0]&4&&z(L,e[2][e[33]].text),e[2].length>0?P?P.p(e,p):(P=$e(e),P.c(),P.m($,null)):P&&(P.d(1),P=null)},i(I){ce||(Se(C.$$.fragment,I),Se(Z.$$.fragment,I),ce=!0)},o(I){Te(C.$$.fragment,I),Te(Z.$$.fragment,I),ce=!1},d(I){I&&c(s),Ve(C),Ve(Z),P&&P.d(),Be=!1,lt(Ae)}}}function yt(e){let s,r,h,S,E,w,V,A,D,n,j,se,q,K,ne,M,R,re,T,C,B,le,k,Q,oe,H,J,ie,a,m,x,pe,O,W,Y,Z,_e;s=new bt({props:{options:e[3]}});let te=e[2],u=[];for(let d=0;d<te.length;d+=1)u[d]=xe(Ze(e,te,d));const ue=d=>Te(u[d],1,1,()=>{u[d]=null});return{c(){Ie(s.$$.fragment),r=g(),h=o("section"),S=o("div"),E=o("div"),w=o("h1"),V=N("Schedule"),A=g(),D=o("div"),n=o("button"),j=N("Save"),se=g(),q=o("button"),K=N("Go back"),ne=g(),M=o("label"),R=N("Schedule name"),re=g(),T=o("input"),C=g(),B=o("div");for(let d=0;d<u.length;d+=1)u[d].c();le=g(),k=o("button"),Q=N("Add new entry"),oe=g(),H=o("button"),J=N("Order entrys"),ie=g(),a=o("div"),m=o("label"),x=N("Slug"),pe=g(),O=o("div"),W=o("input"),this.h()},l(d){Ne(s.$$.fragment,d),r=b(d),h=i(d,"SECTION",{class:!0});var _=v(h);S=i(_,"DIV",{style:!0});var f=v(S);E=i(f,"DIV",{class:!0});var de=v(E);w=i(de,"H1",{class:!0});var ae=v(w);V=U(ae,"Schedule"),ae.forEach(c),de.forEach(c),A=b(f),D=i(f,"DIV",{class:!0,style:!0});var fe=v(D);n=i(fe,"BUTTON",{class:!0});var me=v(n);j=U(me,"Save"),me.forEach(c),se=b(fe),q=i(fe,"BUTTON",{class:!0,style:!0});var F=v(q);K=U(F,"Go back"),F.forEach(c),fe.forEach(c),f.forEach(c),ne=b(_),M=i(_,"LABEL",{for:!0,class:!0});var ge=v(M);R=U(ge,"Schedule name"),ge.forEach(c),re=b(_),T=i(_,"INPUT",{type:!0,id:!0,placeholder:!0}),C=b(_),B=i(_,"DIV",{class:!0});var X=v(B);for(let ce=0;ce<u.length;ce+=1)u[ce].l(X);le=b(X),k=i(X,"BUTTON",{class:!0,style:!0});var be=v(k);Q=U(be,"Add new entry"),be.forEach(c),oe=b(X),H=i(X,"BUTTON",{class:!0,style:!0});var Ee=v(H);J=U(Ee,"Order entrys"),Ee.forEach(c),X.forEach(c),ie=b(_),a=i(_,"DIV",{});var L=v(a);m=i(L,"LABEL",{for:!0,class:!0});var ye=v(m);x=U(ye,"Slug"),ye.forEach(c),pe=b(L),O=i(L,"DIV",{class:!0});var $=v(O);W=i($,"INPUT",{type:!0,id:!0,placeholder:!0}),$.forEach(c),L.forEach(c),_.forEach(c),this.h()},h(){l(w,"class","rank-title  svelte-18xqq13"),l(E,"class","col-6"),l(n,"class","btn btn-info"),l(q,"class","btn btn-danger"),y(q,"margin-left","15px"),l(D,"class","col-5"),y(D,"align-items","center"),y(D,"display","flex"),y(D,"justify-content","end"),y(S,"display","flex"),y(S,"align-items","center"),y(S,"background-color","var(--color-bg-1)"),y(S,"position","sticky"),y(S,"top","80px"),y(S,"z-index","1"),l(M,"for","Block"),l(M,"class","svelte-18xqq13"),l(T,"type","text"),l(T,"id","nameSch"),l(T,"placeholder","Name"),l(k,"class","btn btn-info"),y(k,"height","40px"),l(H,"class","btn btn-info"),y(H,"height","40px"),y(H,"margin-left","15px"),l(B,"class","section-inner svelte-18xqq13"),l(m,"for","name"),l(m,"class","svelte-18xqq13"),l(W,"type","text"),l(W,"id","slug"),W.value=e[1],l(W,"placeholder","Slug"),l(O,"class","col-12 "),l(h,"class","app_form svelte-18xqq13")},m(d,_){Ue(s,d,_),Le(d,r,_),Le(d,h,_),t(h,S),t(S,E),t(E,w),t(w,V),t(S,A),t(S,D),t(D,n),t(n,j),t(D,se),t(D,q),t(q,K),t(h,ne),t(h,M),t(M,R),t(h,re),t(h,T),z(T,e[0]),t(h,C),t(h,B);for(let f=0;f<u.length;f+=1)u[f].m(B,null);t(B,le),t(B,k),t(k,Q),t(B,oe),t(B,H),t(H,J),t(h,ie),t(h,a),t(a,m),t(m,x),t(a,pe),t(a,O),t(O,W),Y=!0,Z||(_e=[G(n,"click",De(e[4])),G(q,"click",De(e[5])),G(T,"input",e[12]),G(T,"change",e[6]),G(k,"click",De(e[7])),G(H,"click",De(e[8]))],Z=!0)},p(d,_){if(_[0]&1&&T.value!==d[0]&&z(T,d[0]),_[0]&1540){te=d[2];let f;for(f=0;f<te.length;f+=1){const de=Ze(d,te,f);u[f]?(u[f].p(de,_),Se(u[f],1)):(u[f]=xe(de),u[f].c(),Se(u[f],1),u[f].m(B,le))}for(gt(),f=te.length;f<u.length;f+=1)ue(f);vt()}(!Y||_[0]&2&&W.value!==d[1])&&(W.value=d[1])},i(d){if(!Y){Se(s.$$.fragment,d);for(let _=0;_<te.length;_+=1)Se(u[_]);Y=!0}},o(d){Te(s.$$.fragment,d),u=u.filter(Boolean);for(let _=0;_<u.length;_+=1)Te(u[_]);Y=!1},d(d){Ve(s,d),d&&c(r),d&&c(h),_t(u,d),Z=!1,lt(_e)}}}let et="https://api.appworldtour.com/v1/schedule/";function tt(e){return e.sort((s,r)=>new Date(s.dateStart)-new Date(r.dateStart))}function St(e,s,r){let{data:h}=s,S,E="",w="",V=[],A=[],D=[],n=[];const j={theme:{"--toastColor":"white","--toastBarBackground":"red"}};mt(async()=>{if(h.slug=="newschedule")S="create",r(2,n=[...n,{dateStart:new Date,dateEnd:new Date,highlight:!1,title:"",subTitle:"",text:"",liveEvent:!1,feedUrl:"",ctaLabel:""}]);else{S="update";const a=[{openid:h.slug}];A=await(await fetch(et,{method:"POST",body:JSON.stringify({mission:a})})).json(),D=JSON.parse(A[0].content),r(0,E=A[0].name),r(1,w=A[0].slug),r(2,n=D)}});const se=()=>{if(E==""){document.getElementById("nameSch").focus();return}tt(n),r(2,n),V={name:E,data:n,slug:w};const a=[{id:h.slug,type:S}];fetch(et,{method:"POST",body:JSON.stringify({list:V,mission:a})}).then(m=>m.text()).then(m=>{Et.push("Schedule update",{duration:2e3})})},q=()=>{history.back()};function K(){let a=E.toString().toLowerCase().trim();[{to:"a",from:"[ÀÁÂÃÄÅÆĀĂĄẠẢẤẦẨẪẬẮẰẲẴẶἀ]"},{to:"c",from:"[ÇĆĈČ]"},{to:"d",from:"[ÐĎĐÞ]"},{to:"e",from:"[ÈÉÊËĒĔĖĘĚẸẺẼẾỀỂỄỆ]"},{to:"g",from:"[ĜĞĢǴ]"},{to:"h",from:"[ĤḦ]"},{to:"i",from:"[ÌÍÎÏĨĪĮİỈỊ]"},{to:"j",from:"[Ĵ]"},{to:"ij",from:"[Ĳ]"},{to:"k",from:"[Ķ]"},{to:"l",from:"[ĹĻĽŁ]"},{to:"m",from:"[Ḿ]"},{to:"n",from:"[ÑŃŅŇ]"},{to:"o",from:"[ÒÓÔÕÖØŌŎŐỌỎỐỒỔỖỘỚỜỞỠỢǪǬƠ]"},{to:"oe",from:"[Œ]"},{to:"p",from:"[ṕ]"},{to:"r",from:"[ŔŖŘ]"},{to:"s",from:"[ßŚŜŞŠȘ]"},{to:"t",from:"[ŢŤ]"},{to:"u",from:"[ÙÚÛÜŨŪŬŮŰŲỤỦỨỪỬỮỰƯ]"},{to:"w",from:"[ẂŴẀẄ]"},{to:"x",from:"[ẍ]"},{to:"y",from:"[ÝŶŸỲỴỶỸ]"},{to:"z",from:"[ŹŻŽ]"},{to:"-",from:"[·/_,:;']"}].forEach(x=>{a=a.replace(new RegExp(x.from,"gi"),x.to)}),r(1,w=a.replace(/\s+/g,"-").replace(/[^-a-z0-9а-я\u0370-\u03ff\u1f00-\u1fff]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""))}function ne(){r(2,n=[...n,{dateStart:new Date,dateEnd:new Date,highlight:!1,title:"",subTitle:"",text:"",ctaLabel:""}])}function M(){tt(n),r(2,n)}function R(a){M()}const re=a=>()=>{r(2,n=n.filter((m,x)=>x!==a))};function T(){E=this.value,r(0,E)}function C(a){n[a].dateStart=this.value,r(2,n)}function B(a){n[a].dateEnd=this.value,r(2,n)}function le(a,m){e.$$.not_equal(n[m].highlight,a)&&(n[m].highlight=a,r(2,n))}function k(a){n[a].feedUrl=this.value,r(2,n)}function Q(a){n[a].ctaLabel=this.value,r(2,n)}function oe(a,m){e.$$.not_equal(n[m].liveEvent,a)&&(n[m].liveEvent=a,r(2,n))}function H(a){n[a].title=this.value,r(2,n)}function J(a){n[a].subTitle=this.value,r(2,n)}function ie(a){n[a].text=this.value,r(2,n)}return e.$$set=a=>{"data"in a&&r(11,h=a.data)},[E,w,n,j,se,q,K,ne,M,R,re,h,T,C,B,le,k,Q,oe,H,J,ie]}class Lt extends ct{constructor(s){super(),ht(this,s,St,yt,pt,{data:11},null,[-1,-1])}}export{Lt as default};
